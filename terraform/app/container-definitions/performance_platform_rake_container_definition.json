[
  {
    "name": "${task_name}",
    "image": "${image}:latest",
    "memory": 512,
    "networkMode": "bridge",
    "entryPoint": ${entrypoint},
    "logConfiguration": {
      "logDriver": "json-file"
    },
    "environment": [
      {
        "name": "RAILS_ENV",
        "value": "${rails_env}"
      },
      {
        "name": "RAILS_MAX_THREADS",
        "value": "${rails_max_threads}"
      },
      {
        "name": "ROLLBAR_ENV",
        "value": "${environment}"
      },
      {
        "name": "SECRET_KEY_BASE",
        "value": "${secret_key_base}"
      },
      {
        "name": "RAILS_LOG_TO_STDOUT",
        "value": "true"
      },
      {
        "name": "RAILS_SERVE_STATIC_FILES",
        "value": "true"
      },
      {
        "name": "DATABASE_URL",
        "value": "postgres://${database_user}:${database_password}@${database_url}:5432/${project_name}_${environment}?template=template0&pool=5&encoding=unicode"
      },
      {
        "name": "REDIS_CACHE_URL",
        "value": "${redis_cache_url}"
      },
      {
        "name": "REDIS_QUEUE_URL",
        "value": "${redis_queue_url}"
      },
      {
        "name": "PP_TRANSACTIONS_BY_CHANNEL_TOKEN",
        "value": "${pp_transactions_by_channel_token}"
      }
    ]
  }
]
